function t(e){var t=e.indexOf(textoBusqueda);return e.substring(0,t)}function o(e){e=e.includes("Reservar");return mostrarCaducidadLoginReservas(),e}function n(){var e;null==grecaptcha.execute||null==__recaptcha_api||1!=__google_recaptcha_client?setTimeout(n,50):((e=qs(".thumbnail-container-sm .thumbnail-action-lg form .btn-danger[type='button']")).focus(),e.click())}function e(){modo=timeoutNormal,timeout=timeoutNormal,c()}function a(){modo=timeoutLento,timeout=timeoutLento,c()}function i(){modo=timeoutRapido,timeout=timeoutRapido,c()}function r(){var e=document.location.pathname.split("/").pop();window.location.href="https://remadtools.twilightparadox.com/producto-capturar/"+e}function c(){qs("#boton-autoreservar").remove(),qs("#boton-autoreservar-lento").remove(),qs("#boton-autoreservar-rapido").remove(),qs("#boton-autoreservar-vps").remove(),l(),setInterval(d,6e4),setInterval(u,36e5),s(t(document.body.innerText))}function d(){var e,t;window.caducaHoy&&(e=(t=new Date).getHours(),t=t.getMinutes(),timeout=23==e&&58<=t||0==e&&t<=5?timeoutRapido:modo)}function u(){deboComprobarSiCaducaHoy=!0}function s(e){deboComprobarSiCaducaHoy=!1;var t=new Date;let o=t.getDate(),n=t.getMonth()+1;t=t.getFullYear(),o<10&&(o="0"+o),n<10&&(n="0"+n),t=o+"/"+n+"/"+t;window.caducaHoy=e.includes(t),d()}async function l(){var e=t(await(await fetch(webActual)).text());if(o(e))m();else{deboComprobarSiCaducaHoy&&s(e),chks++;try{tituloProducto.textContent=textoTituloProducto+" - "+chks}catch(e){}try{document.title=ttl+" "+chks}catch(e){}try{caducaHoy&&(tituloProducto.textContent+=textoCaducaHoy,document.title+=textoCaducaHoy)}catch(e){}setTimeout(l,timeout)}}function m(){qs(".thumbnail-container-sm .thumbnail-action-lg").innerHTML="";{let e=qs(".thumbnail-container-sm .thumbnail-action-lg"),t=document.createElement("form"),o=(t.method="POST",document.location.pathname.split("/").pop()),n=(t.id="reserve-form-"+o,t.action="https://www.remad.es/web/antiquity/reserve/"+o,e.append(t),document.createElement("input")),a=(n.name="g-recaptcha-response",n.hidden=!0,n.id="recaptcha-"+o,t.append(n),document.createElement("input")),i=(a.name="_token",a.type="hidden",a.value=dameToken(),t.append(a),document.createElement("button"));i.type="button",i.className="btn-danger btn-sm pull-left",i.addEventListener("click",()=>{reserveWithRecaptcha(o)}),i.innerText="Reservar con Recaptcha",t.append(i)}setTimeout(n,150)}function p(){reservableAlInicio&&m()}function w(){var e=document.createElement("script");e.src="https://www.remad.es/js/reCaptcha.js",e.addEventListener("load",p),document.head.appendChild(e)}var v,h;1!=window.pulsado&&(window.versionPlugin="Plugin v75",Cookies.set("_accept","true",{path:"/",expires:365}),$(".ty-settings").hide(),window.chks=0,window.loc=location.origin,window.webActual=loc+location.pathname,window.ttl=document.title,document.title=versionPlugin,window.qs=function(e){return document.querySelector(e)},window.qsa=function(e){return document.querySelectorAll(e)},window.dameToken=function(){return $('meta[name="csrf-token"]').attr("content")},window.mostrarCaducidadLoginReservas=async function(){var e;chks%5==0&&((e=await(await fetch(loc+"/web/profile/myproducts")).text()).includes("Mi Perfil")?(e=e.split('id="res-').length-1,qs(".header").textContent="Tiene "+e+" reservas"):(qs(".header").textContent="NO hay sesión",console.log("no hay sesion")))},qs(".nav.navbar-nav.navbar-right li a").innerText=versionPlugin),tokenRemadV3="6LdZzrUpAAAAACe-NKn5XkSyTdAIrbLbp73d8R2F",textoBusqueda="Productos disponibles",textoCaducaHoy=" (Caduca hoy)",1!=window.pulsado&&(window.tituloProducto=qs(".thumbnail-title h1"),window.existeBotonReservar=qs("#boton-autoreservar"),tituloProducto)&&!existeBotonReservar&&(h=t(document.body.innerText),window.reservableAlInicio=o(h),window.timeoutNormal=500,window.timeoutLento=1500,window.timeoutRapido=250,window.modo=window.timeoutLento,window.deboComprobarSiCaducaHoy=!1,window.textoTituloProducto=tituloProducto?tituloProducto.textContent:"#producto#",(h=document.createElement("script")).src="https://www.google.com/recaptcha/api.js?render="+tokenRemadV3,h.addEventListener("load",w),document.head.appendChild(h),reservableAlInicio||((h=document.createElement("div")).className="form-group col-xs-12 col-md-6",tituloProducto.parentNode.append(h),(v=document.createElement("span")).className="btn btn-outline",v.id="boton-autoreservar",v.innerText="Modo Normal ("+timeoutNormal+"ms)",h.append(v),v.addEventListener("click",e),(h=document.createElement("div")).className="form-group col-xs-12 col-md-6",tituloProducto.parentNode.append(h),(v=document.createElement("span")).className="btn btn-outline",v.id="boton-autoreservar-lento",v.innerText="Modo Lento/Sin WiFi ("+timeoutLento+"ms)",h.append(v),v.addEventListener("click",a),(h=document.createElement("div")).className="form-group col-xs-12 col-md-6",tituloProducto.parentNode.append(h),(v=document.createElement("span")).className="btn btn-outline",v.id="boton-autoreservar-rapido",v.innerText="Modo Rápido/Renovar ("+timeoutRapido+"ms)",h.append(v),v.addEventListener("click",i),(h=document.createElement("div")).className="form-group col-xs-12 col-md-6",tituloProducto.parentNode.append(h),(v=document.createElement("span")).className="btn btn-outline",v.id="boton-autoreservar-vps",v.innerText="Captura con VPS",h.append(v),v.addEventListener("click",r)),window.pulsado=!0);